{"version":3,"names":["_i18n","require","_components","_clsx","_interopRequireDefault","_searchCreateButton","_searchItem","_constants","_jsxRuntime","LinkControlSearchResults","instanceId","withCreateSuggestion","currentInputValue","handleSuggestionClick","suggestionsListProps","buildSuggestionItemProps","suggestions","selectedSuggestion","isLoading","isInitialSuggestions","createSuggestionButtonText","suggestionsQuery","resultsListClasses","clsx","isSingleDirectEntryResult","length","LINK_ENTRY_TYPES","includes","type","shouldShowCreateSuggestion","shouldShowSuggestionsTypes","searchResultsLabelId","labelText","__","sprintf","searchResultsLabel","jsx","VisuallyHidden","id","children","jsxs","className","MenuGroup","map","suggestion","index","CREATE_TYPE","default","searchTerm","buttonText","onClick","itemProps","isSelected","isURL","shouldShowType","isFrontPage","isBlogHome"],"sources":["@wordpress/block-editor/src/components/link-control/search-results.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { VisuallyHidden, MenuGroup } from '@wordpress/components';\n\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * Internal dependencies\n */\nimport LinkControlSearchCreate from './search-create-button';\nimport LinkControlSearchItem from './search-item';\nimport { CREATE_TYPE, LINK_ENTRY_TYPES } from './constants';\n\nexport default function LinkControlSearchResults( {\n\tinstanceId,\n\twithCreateSuggestion,\n\tcurrentInputValue,\n\thandleSuggestionClick,\n\tsuggestionsListProps,\n\tbuildSuggestionItemProps,\n\tsuggestions,\n\tselectedSuggestion,\n\tisLoading,\n\tisInitialSuggestions,\n\tcreateSuggestionButtonText,\n\tsuggestionsQuery,\n} ) {\n\tconst resultsListClasses = clsx(\n\t\t'block-editor-link-control__search-results',\n\t\t{\n\t\t\t'is-loading': isLoading,\n\t\t}\n\t);\n\n\tconst isSingleDirectEntryResult =\n\t\tsuggestions.length === 1 &&\n\t\tLINK_ENTRY_TYPES.includes( suggestions[ 0 ].type );\n\tconst shouldShowCreateSuggestion =\n\t\twithCreateSuggestion &&\n\t\t! isSingleDirectEntryResult &&\n\t\t! isInitialSuggestions;\n\t// If the query has a specified type, then we can skip showing them in the result. See #24839.\n\tconst shouldShowSuggestionsTypes = ! suggestionsQuery?.type;\n\n\t// According to guidelines aria-label should be added if the label\n\t// itself is not visible.\n\t// See: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role\n\tconst searchResultsLabelId = `block-editor-link-control-search-results-label-${ instanceId }`;\n\tconst labelText = isInitialSuggestions\n\t\t? __( 'Suggestions' )\n\t\t: sprintf(\n\t\t\t\t/* translators: %s: search term. */\n\t\t\t\t__( 'Search results for \"%s\"' ),\n\t\t\t\tcurrentInputValue\n\t\t  );\n\tconst searchResultsLabel = (\n\t\t<VisuallyHidden id={ searchResultsLabelId }>\n\t\t\t{ labelText }\n\t\t</VisuallyHidden>\n\t);\n\n\treturn (\n\t\t<div className=\"block-editor-link-control__search-results-wrapper\">\n\t\t\t{ searchResultsLabel }\n\t\t\t<div\n\t\t\t\t{ ...suggestionsListProps }\n\t\t\t\tclassName={ resultsListClasses }\n\t\t\t\taria-labelledby={ searchResultsLabelId }\n\t\t\t>\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t{ suggestions.map( ( suggestion, index ) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tshouldShowCreateSuggestion &&\n\t\t\t\t\t\t\tCREATE_TYPE === suggestion.type\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<LinkControlSearchCreate\n\t\t\t\t\t\t\t\t\tsearchTerm={ currentInputValue }\n\t\t\t\t\t\t\t\t\tbuttonText={ createSuggestionButtonText }\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\thandleSuggestionClick( suggestion )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// Intentionally only using `type` here as\n\t\t\t\t\t\t\t\t\t// the constant is enough to uniquely\n\t\t\t\t\t\t\t\t\t// identify the single \"CREATE\" suggestion.\n\t\t\t\t\t\t\t\t\tkey={ suggestion.type }\n\t\t\t\t\t\t\t\t\titemProps={ buildSuggestionItemProps(\n\t\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tisSelected={ index === selectedSuggestion }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If we're not handling \"Create\" suggestions above then\n\t\t\t\t\t\t// we don't want them in the main results so exit early.\n\t\t\t\t\t\tif ( CREATE_TYPE === suggestion.type ) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<LinkControlSearchItem\n\t\t\t\t\t\t\t\tkey={ `${ suggestion.id }-${ suggestion.type }` }\n\t\t\t\t\t\t\t\titemProps={ buildSuggestionItemProps(\n\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tsuggestion={ suggestion }\n\t\t\t\t\t\t\t\tindex={ index }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\thandleSuggestionClick( suggestion );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tisSelected={ index === selectedSuggestion }\n\t\t\t\t\t\t\t\tisURL={ LINK_ENTRY_TYPES.includes(\n\t\t\t\t\t\t\t\t\tsuggestion.type\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tsearchTerm={ currentInputValue }\n\t\t\t\t\t\t\t\tshouldShowType={ shouldShowSuggestionsTypes }\n\t\t\t\t\t\t\t\tisFrontPage={ suggestion?.isFrontPage }\n\t\t\t\t\t\t\t\tisBlogHome={ suggestion?.isBlogHome }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</MenuGroup>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}
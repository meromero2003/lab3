{"version":3,"names":["__experimentalHStack","HStack","__experimentalVStack","VStack","Button","TextControl","Modal","__","sprintf","useState","useId","speak","isEmptyString","jsx","_jsx","jsxs","_jsxs","BlockRenameModal","blockName","originalBlockName","onClose","onSave","hasOverridesWarning","editedBlockName","setEditedBlockName","descriptionId","nameHasChanged","nameIsOriginal","nameIsEmpty","isNameValid","autoSelectInputText","event","target","select","handleSubmit","message","title","onRequestClose","overlayClassName","focusOnMount","aria","describedby","size","children","onSubmit","e","preventDefault","id","spacing","__nextHasNoMarginBottom","__next40pxDefaultSize","value","label","hideLabelFromVision","help","undefined","placeholder","onChange","onFocus","justify","variant","onClick","type"],"sources":["@wordpress/block-editor/src/components/block-rename/modal.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tButton,\n\tTextControl,\n\tModal,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useState, useId } from '@wordpress/element';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport isEmptyString from './is-empty-string';\n\nexport default function BlockRenameModal( {\n\tblockName,\n\toriginalBlockName,\n\tonClose,\n\tonSave,\n\t// Pattern Overrides is a WordPress-only feature but it also uses the Block Binding API.\n\t// Ideally this should not be inside the block editor package, but we keep it here for simplicity.\n\thasOverridesWarning,\n} ) {\n\tconst [ editedBlockName, setEditedBlockName ] = useState( blockName );\n\tconst descriptionId = useId();\n\n\tconst nameHasChanged = editedBlockName !== blockName;\n\tconst nameIsOriginal = editedBlockName === originalBlockName;\n\tconst nameIsEmpty = isEmptyString( editedBlockName );\n\n\tconst isNameValid = nameHasChanged || nameIsOriginal;\n\n\tconst autoSelectInputText = ( event ) => event.target.select();\n\n\tconst handleSubmit = () => {\n\t\tconst message =\n\t\t\tnameIsOriginal || nameIsEmpty\n\t\t\t\t? sprintf(\n\t\t\t\t\t\t/* translators: %s: new name/label for the block */\n\t\t\t\t\t\t__( 'Block name reset to: \"%s\".' ),\n\t\t\t\t\t\teditedBlockName\n\t\t\t\t  )\n\t\t\t\t: sprintf(\n\t\t\t\t\t\t/* translators: %s: new name/label for the block */\n\t\t\t\t\t\t__( 'Block name changed to: \"%s\".' ),\n\t\t\t\t\t\teditedBlockName\n\t\t\t\t  );\n\n\t\t// Must be assertive to immediately announce change.\n\t\tspeak( message, 'assertive' );\n\t\tonSave( editedBlockName );\n\n\t\t// Immediate close avoids ability to hit save multiple times.\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Rename' ) }\n\t\t\tonRequestClose={ onClose }\n\t\t\toverlayClassName=\"block-editor-block-rename-modal\"\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\taria={ { describedby: descriptionId } }\n\t\t\tsize=\"small\"\n\t\t>\n\t\t\t<form\n\t\t\t\tonSubmit={ ( e ) => {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif ( ! isNameValid ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\thandleSubmit();\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<p id={ descriptionId }>\n\t\t\t\t\t{ __( 'Enter a custom name for this block.' ) }\n\t\t\t\t</p>\n\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ editedBlockName }\n\t\t\t\t\t\tlabel={ __( 'Block name' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\thasOverridesWarning\n\t\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t\t'This block allows overrides. Changing the name can cause problems with content entered into instances of this pattern.'\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplaceholder={ originalBlockName }\n\t\t\t\t\t\tonChange={ setEditedBlockName }\n\t\t\t\t\t\tonFocus={ autoSelectInputText }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\taria-disabled={ ! isNameValid }\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}